"use strict";(self["webpackChunkvetconst"]=self["webpackChunkvetconst"]||[]).push([[443],{883:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-content-center containerCustom"},[a("div",{staticClass:"align-self-center border customCard"},[a("h5",[e._v(e._s(e.title))]),a("hr"),a("b-form-group",{attrs:{id:"input-group-1",label:"Veterinario","label-for":"input-1"}},[a("b-form-select",{staticStyle:{"text-align":"center"},attrs:{options:e.veterinarios},model:{value:e.form.veterinario,callback:function(t){e.$set(e.form,"veterinario",t)},expression:"form.veterinario"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"Data do agendamento","label-for":"input-2"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",placeholder:"Seleciona uma data",required:""},model:{value:e.form.dataDoAgendamento,callback:function(t){e.$set(e.form,"dataDoAgendamento",t)},expression:"form.dataDoAgendamento"}})],1),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"w-100",attrs:{variant:"primary",block:""},on:{click:e.agendarConsulta}},[e._v(e._s(e.buttonMsg)+" ")])],1)],1)])},r=[],o=a(7906),s=a(6198),i=a(3019),u=a(6166),c=a.n(u),d=a(4665),l={name:"Cadastrar",computed:(0,i.Z)({},(0,d.Se)(["getUser"])),data:function(){return{form:{dataDoAgendamento:"",veterinario:""},veterinarios:[],title:"",buttonMsg:""}},mounted:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.$route.params.id>0)){t.next=7;break}return t.next=3,e.getConsulta();case 3:e.title="Atualizar agendamento",e.buttonMsg="Atualizar",t.next=9;break;case 7:e.title="Realizar agendamento",e.buttonMsg="Cadastrar";case 9:return t.next=11,e.getVet();case 11:case"end":return t.stop()}}),t)})))()},methods:{getVet:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){var a,n;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c().get("https://meu-petzinho-api.herokuapp.com/api/veterinarios",{headers:{Authorization:"Bearer ".concat(e.getUser.token)}});case 2:if(a=t.sent,200==a.status)for(n in e.veterinarios=[],a.data)e.veterinarios.push({value:a.data[n].id,text:a.data[n].nome});case 4:case"end":return t.stop()}}),t)})))()},agendarConsulta:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){var a,n;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.$route.params.id>0)){t.next=7;break}return t.next=3,c().put("https://meu-petzinho-api.herokuapp.com/api/agendamentos/"+e.$route.params.id,{dataDoAgendamento:e.form.dataDoAgendamento},{headers:{Authorization:"Bearer ".concat(e.getUser.token)}});case 3:a=t.sent,200==a.status?e.$bvToast.toast("Seu agendamento foi atualizado com sucesso!",{title:"Sucesso!",variant:"success",autoHideDelay:3e3,appendToast:!1}):e.$bvToast.toast("Verifique a validade do token",{title:"Ops",variant:"danger",autoHideDelay:3e3,appendToast:!1}),t.next=11;break;case 7:return t.next=9,c().post("https://meu-petzinho-api.herokuapp.com/api/agendamentos",e.form,{headers:{Authorization:"Bearer ".concat(e.getUser.token)}});case 9:n=t.sent,201==n.status?e.$bvToast.toast("Seu agendamento foi efetuado com sucesso!",{title:"Sucesso!",variant:"success",autoHideDelay:3e3,appendToast:!1}):e.$bvToast.toast("Verifique a validade do token",{title:"Ops",variant:"danger",autoHideDelay:3e3,appendToast:!1});case 11:case"end":return t.stop()}}),t)})))()},getConsulta:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){var a;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c().get("https://meu-petzinho-api.herokuapp.com/api/agendamentos/"+e.$route.params.id,{headers:{Authorization:"Bearer ".concat(e.getUser.token)}});case 2:a=t.sent,200==a.status&&(e.form.veterinario=a.data.veterinario.id,e.form.dataDoAgendamento=a.data.dataDoAgendamento);case 4:case"end":return t.stop()}}),t)})))()}},props:["test","id"]},p=l,m=a(1001),f=(0,m.Z)(p,n,r,!1,null,null,null),v=f.exports},3406:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-5"},[a("div",{staticClass:"my-3",staticStyle:{"text-align":"right"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.cadastrar(null)}}},[e._v("Nova consulta")])],1),a("b-table",{attrs:{responsive:"",striped:"",hover:"",items:e.items,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(edit)",fn:function(t){return[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return e.cadastrar(t.item)}}},[e._v("Editar")]),a("b-button",{staticClass:"ml-1",attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.deleteAgenda(t.item)}}},[e._v("Excluir ")])]}}])}),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"my-table",align:"right"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},r=[],o=a(3019),s=a(7906),i=a(6198),u=(a(7327),a(1539),a(6166)),c=a.n(u),d=a(4665),l={data:function(){return{fields:[{key:"id",label:"Código",sortable:!0},{key:"veterinario",label:"Veterinário",sortable:!0},{key:"nome",label:"Tutor",sortable:!0},{key:"paciente",label:"Paciente",sortable:!0},{key:"dataDoAgendamento",label:"Data do Agendamento",sortable:!0},{key:"edit",label:"Editar / Excluir"}],items:[],perPage:10,currentPage:1}},mounted:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getConsultas();case 2:case"end":return t.stop()}}),t)})))()},computed:(0,o.Z)({rows:function(){return this.items.length}},(0,d.Se)(["getUser"])),methods:{getConsultas:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){var a,n;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c().get("https://meu-petzinho-api.herokuapp.com/api/agendamentos/meus-agendamentos",{headers:{Authorization:"Bearer ".concat(e.getUser.token)}});case 2:if(a=t.sent,200==a.status)for(n in e.items=[],a.data)e.items.push({id:a.data[n].id,dataDoAgendamento:a.data[n].dataDoAgendamento,veterinario:a.data[n].veterinario.nome,paciente:a.data[n].usuarioCliente.nomePet,nome:a.data[n].usuarioCliente.nome});else e.$bvToast.toast("Verifique a validade do token",{title:"Ops",variant:"danger",autoHideDelay:3e3,appendToast:!1});case 4:case"end":return t.stop()}}),t)})))()},cadastrar:function(e){var t=null!==e?e.id:0;this.$router.push({name:"Cadastrar",params:{id:t,test:e}})},deleteAgenda:function(e){var t=this;return(0,i.Z)((0,s.Z)().mark((function a(){var n;return(0,s.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c()["delete"]("https://meu-petzinho-api.herokuapp.com/api/agendamentos/"+e.id,{headers:{Authorization:"Bearer ".concat(t.getUser.token)}});case 2:n=a.sent,204==n.status?(t.items=t.items.filter((function(t){return t.id!==e.id})),t.$bvToast.toast("Seu agendamento foi excluido com sucesso!",{title:"Sucesso!",variant:"success",autoHideDelay:3e3,appendToast:!1})):t.$bvToast.toast("Verifique a validade do token",{title:"Ops",variant:"danger",autoHideDelay:3e3,appendToast:!1});case 4:case"end":return a.stop()}}),a)})))()}}},p=l,m=a(1001),f=(0,m.Z)(p,n,r,!1,null,null,null),v=f.exports},3850:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-5"},[a("h1",[e._v("Página inicial")])])}],o={name:"Home"},s=o,i=a(1001),u=(0,i.Z)(s,n,r,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=about-legacy.2987a217.js.map